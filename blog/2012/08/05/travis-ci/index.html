<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Travis CI | Au coin d'une table</title><meta name=keywords content="git,london,integration continue,continuous integration,grails,travis"><meta name=description content="Comme j’utilise github comme dépôt public pour London Epidemic, autant utiliser les outils disponibles qui vont bien avec. Je vais donc vous parler de Travis CI une plateforme d’intégration continue pour les dépôts publics de GitHub.
 Intégration continue ? L’intégration continue est une pratique souvent liée aux méthodologies agiles, mais qui n’en découle pas. Ce serait plutôt les prémisses à mon humble avis.
 L’intégration continue consiste à vérifier à chaque commit que le code source fonctionne."><meta name=author content="Isammoc"><link rel=canonical href=https://blog.isammoc.net/blog/2012/08/05/travis-ci/><link href=/assets/css/stylesheet.min.0ef71315edca03ac3fb4b85c2eaba80d9aa9c097f62b53e704ebe8e433907e89.css integrity="sha256-DvcTFe3KA6w/tLhcLquoDZqpwJf2K1PnBOvo5DOQfok=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.isammoc.net/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.isammoc.net/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.isammoc.net/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.isammoc.net/apple-touch-icon.png><link rel=mask-icon href=https://blog.isammoc.net/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><meta property="og:title" content="Travis CI"><meta property="og:description" content="Comme j’utilise github comme dépôt public pour London Epidemic, autant utiliser les outils disponibles qui vont bien avec. Je vais donc vous parler de Travis CI une plateforme d’intégration continue pour les dépôts publics de GitHub.
 Intégration continue ? L’intégration continue est une pratique souvent liée aux méthodologies agiles, mais qui n’en découle pas. Ce serait plutôt les prémisses à mon humble avis.
 L’intégration continue consiste à vérifier à chaque commit que le code source fonctionne."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.isammoc.net/blog/2012/08/05/travis-ci/"><meta property="article:published_time" content="2012-08-05T00:00:00+00:00"><meta property="article:modified_time" content="2012-08-05T00:00:00+00:00"><meta property="og:site_name" content="Au coin d'une table"><meta name=twitter:card content="summary"><meta name=twitter:title content="Travis CI"><meta name=twitter:description content="Comme j’utilise github comme dépôt public pour London Epidemic, autant utiliser les outils disponibles qui vont bien avec. Je vais donc vous parler de Travis CI une plateforme d’intégration continue pour les dépôts publics de GitHub.
 Intégration continue ? L’intégration continue est une pratique souvent liée aux méthodologies agiles, mais qui n’en découle pas. Ce serait plutôt les prémisses à mon humble avis.
 L’intégration continue consiste à vérifier à chaque commit que le code source fonctionne."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://blog.isammoc.net/blog/"},{"@type":"ListItem","position":2,"name":"Travis CI","item":"https://blog.isammoc.net/blog/2012/08/05/travis-ci/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Travis CI","name":"Travis CI","description":"Comme j’utilise github comme dépôt public pour London Epidemic, autant utiliser les outils disponibles qui vont bien avec. Je vais donc vous parler de Travis CI une plateforme …","keywords":["git","london","integration continue","continuous integration","grails","travis"],"articleBody":"Comme j’utilise github comme dépôt public pour London Epidemic, autant utiliser les outils disponibles qui vont bien avec. Je vais donc vous parler de Travis CI une plateforme d’intégration continue pour les dépôts publics de GitHub.\n Intégration continue ? L’intégration continue est une pratique souvent liée aux méthodologies agiles, mais qui n’en découle pas. Ce serait plutôt les prémisses à mon humble avis.\n L’intégration continue consiste à vérifier à chaque commit que le code source fonctionne. Pour cela, les techniques de tests unitaires ou de tests d’intégration automatisées doivent être mises en place dans le projet et les outils d’intégration continue vont exécuter ces tests à chaque fois que le gestionnaire de source (exemple : git) sera mis à jour.\n Généralement des rapports ou des alertes sont remontés lorsque les tests échouent, permettant une remontée immédiate dès qu’un souci est rencontré.\n   Travis CI Même si Jenkins est reconnu et très souvent utilisé en tant que gestionnaire d’intégration continue, Travis permet la compilation et les tests sans devoir installer une plateforme sur un serveur. En effet, Travis se présente sous la forme d’un service web où l’on s’inscrit avec l’authentification de github, on sélectionne les dépôts que l’on veut qu’il scrute, et l’on configure chaque projet avec un petit fichier .travis.yml à la racine de notre projet. Ce fichier permet d’expliquer à Travis comment s’occuper de notre projet.\n   Configuration Travis et Grails Dans le cas dont je me soucie ici, c’est de pouvoir compiler et tester une application grails (London Epidemic en l’occurrence). Comme Travis n’est pas spécialisé (il peut gérer toute sorte de projet ou presque), il faut configurer la plateforme avant chaque build pour qu’il connaisse grails et la façon dont on lance les tests.\n Sans plus de chichis, voici mon fichier :\n language: java jdk: # (1) - openjdk7 - oraclejdk7 before_install: # (2) - sudo add-apt-repository -y ppa:groovy-dev/grails - sudo apt-get update - sudo apt-get -y install grails-ppa - sudo apt-get install grails-2.1.0 # or the grails version. script: grails test-app # (3)   Grâce à ce fichier, Travis va tester :\n   avec deux versions de la jdk différentes (lignes 3 à 5)\n  installer grails à la version 2.1.0 (lignes 7 à 11)\n  et lancer les tests (ligne 13).\n     Sources Merci à Bernado (@berngp) pour son aide à la mise en place du fichier de conf.\n   ","wordCount":"388","inLanguage":"en","datePublished":"2012-08-05T00:00:00Z","dateModified":"2012-08-05T00:00:00Z","author":{"@type":"Person","name":"Isammoc"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.isammoc.net/blog/2012/08/05/travis-ci/"},"publisher":{"@type":"Organization","name":"Au coin d'une table","logo":{"@type":"ImageObject","url":"https://blog.isammoc.net/favicon.ico"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://blog.isammoc.net/ accesskey=h title="Au coin d'une table (Alt + H)"><img src=/apple-touch-icon.png alt=logo aria-label=logo height=35>Au coin d'une table</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://blog.isammoc.net/categories/ title=categories><span>categories</span></a></li><li><a href=https://blog.isammoc.net/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Travis CI</h1><div class=post-meta>August 5, 2012&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Isammoc</div></header><div class=post-content><div class=paragraph><p>Comme j’utilise github comme dépôt public pour <em>London Epidemic</em>, autant utiliser les outils disponibles qui vont bien avec. Je vais donc vous parler de <em>Travis CI</em> une plateforme d’intégration continue pour les dépôts publics de GitHub.</p></div><div class=sect1><h2 id=_intégration_continue>Intégration continue ?<a hidden class=anchor aria-hidden=true href=#_intégration_continue>#</a></h2><div class=sectionbody><div class=paragraph><p>L’intégration continue est une pratique souvent liée aux méthodologies agiles, mais qui n’en découle pas. Ce serait plutôt les prémisses à mon humble avis.</p></div><div class=paragraph><p>L’intégration continue consiste à vérifier à chaque commit que le code source fonctionne. Pour cela, les techniques de tests unitaires ou de tests d’intégration automatisées doivent être mises en place dans le projet et les outils d’intégration continue vont exécuter ces tests à chaque fois que le gestionnaire de source (exemple : git) sera mis à jour.</p></div><div class=paragraph><p>Généralement des rapports ou des alertes sont remontés lorsque les tests échouent, permettant une remontée immédiate dès qu’un souci est rencontré.</p></div></div></div><div class=sect1><h2 id=_travis_ci>Travis CI<a hidden class=anchor aria-hidden=true href=#_travis_ci>#</a></h2><div class=sectionbody><div class=paragraph><p>Même si <a href=http://jenkins-ci.org/>Jenkins</a> est reconnu et très souvent utilisé en tant que gestionnaire d’intégration continue, <a href=http://travis-ci.org/>Travis</a> permet la compilation et les tests sans devoir installer une plateforme sur un serveur. En effet, <em>Travis</em> se présente sous la forme d’un service web où l’on s’inscrit avec l’authentification de github, on sélectionne les dépôts que l’on veut qu’il scrute, et l’on configure chaque projet avec un petit fichier <code>.travis.yml</code> à la racine de notre projet. Ce fichier permet d’expliquer à <em>Travis</em> comment s’occuper de notre projet.</p></div></div></div><div class=sect1><h2 id=_configuration_travis_et_grails>Configuration Travis et Grails<a hidden class=anchor aria-hidden=true href=#_configuration_travis_et_grails>#</a></h2><div class=sectionbody><div class=paragraph><p>Dans le cas dont je me soucie ici, c’est de pouvoir compiler et tester une application grails (<em>London Epidemic</em> en l’occurrence).
Comme <em>Travis</em> n’est pas spécialisé (il peut gérer toute sorte de projet ou presque), il faut configurer la plateforme avant chaque build pour qu’il connaisse grails et la façon dont on lance les tests.</p></div><div class=paragraph><p>Sans plus de chichis, voici mon fichier :</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-yaml data-lang=yaml>language: java

jdk: # <b class=conum>(1)</b>
  - openjdk7
  - oraclejdk7

before_install: # <b class=conum>(2)</b>
 - sudo add-apt-repository -y ppa:groovy-dev/grails
 - sudo apt-get update
 - sudo apt-get -y install grails-ppa
 - sudo apt-get install grails-2.1.0 # or the grails version.

script: grails test-app # <b class=conum>(3)</b></code></pre></div></div><div class=paragraph><p>Grâce à ce fichier, <em>Travis</em> va tester :</p></div><div class="colist arabic"><ol><li><p>avec deux versions de la jdk différentes (lignes 3 à 5)</p></li><li><p>installer grails à la version 2.1.0 (lignes 7 à 11)</p></li><li><p>et lancer les tests (ligne 13).</p></li></ol></div></div></div><div class=sect1><h2 id=_sources>Sources<a hidden class=anchor aria-hidden=true href=#_sources>#</a></h2><div class=sectionbody><div class=paragraph><p>Merci à Bernado (<a href=https://twitter.com/berngp>@berngp</a>) pour son aide à la mise en place du fichier de conf.</p></div></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.isammoc.net/tags/git/>git</a></li><li><a href=https://blog.isammoc.net/tags/london/>london</a></li><li><a href=https://blog.isammoc.net/tags/integration-continue/>integration continue</a></li><li><a href=https://blog.isammoc.net/tags/continuous-integration/>continuous integration</a></li><li><a href=https://blog.isammoc.net/tags/grails/>grails</a></li><li><a href=https://blog.isammoc.net/tags/travis/>travis</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://blog.isammoc.net/>Au coin d'une table</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.b5c50a006af5240e8b9a820c9517fc939c995c2503cb822fca9c6177c10b9926.js integrity="sha256-tcUKAGr1JA6LmoIMlRf8k5yZXCUDy4Ivypxhd8ELmSY=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>